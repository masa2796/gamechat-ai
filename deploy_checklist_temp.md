# 🚨 最低限デプロイ可能な状態にするための必須タスク（デプロイ直前チェック）

以下は「アプリが最低限デプロイでき、デプロイ後に基本的な動作確認ができる」ために必須のタスクです。
このリストが全て完了していれば、アプリの主要機能が動作する状態でデプロイできます。

## ✅ 最低限の必須タスク
- [ ] 本番用の.env等、必要な環境変数・APIキー・シークレットを正しく設定・反映している
- [ ] docker-compose.prod.yml等、本番用のDocker/Composeファイルが存在し、内容が最新である
- [ ] backend/.env.production など本番用envファイルが存在し、値が正しい
- [ ] 主要な依存パッケージの脆弱性チェック（yarn/npm/pip audit等）を実施し、重大な脆弱性がない
- [ ] CI/CDまたはローカルで主要テスト（ユニット・E2E・API）が最低限パスしている
- [ ] Dockerイメージのビルド・起動がエラーなく完了する
- [ ] 本番用デプロイスクリプト（prod-deploy.sh等）でサービスが起動し、ヘルスチェックが全て通る
- [ ] Sentry等の監視・エラーログ通知が有効化されている
- [ ] デプロイ後、/health や /api/health などのエンドポイントで正常応答を確認できる

---


# デプロイ前やるべきことチェックリスト（2025/07/14時点）

> **注意:** このファイルは一時的なデプロイチェックリストです。完了したタスクや運用ルールは必ず `docs/` 配下の正式ドキュメントに反映・移動してください。

本リストはGameChat AIの現状をもとに、デプロイ前に必ず実施・確認すべきタスクをまとめたものです。

---

## 1. フロントエンド
- [ ] 主要UI/ロジックのユニットテスト・E2Eテスト網羅（カバレッジ80%以上）
- [ ] TypeScript strict: true、anyゼロ、型定義の共通化
- [ ] Lint/Prettier/型チェックのCI自動化
- [ ] Playwright等による主要ユーザーフロー・異常系・アクセシビリティE2Eテスト
- [ ] 未使用・重複依存の整理、yarn/npm auditで脆弱性ゼロ
- [ ] 主要なエラーハンドリング・fallback UIの実装
- [ ] UI/UX細部の改善・アクセシビリティ向上

## 2. バックエンド
- [ ] 主要APIの単体・統合テスト網羅（pytest等、カバレッジ80%以上推奨）
- [ ] セキュリティ強化（APIキー管理、監査ログ、脆弱性スキャン）
- [ ] デバッグ用エンドポイント・未使用importの完全削除
- [ ] mypy型チェック・flake8/black等Lint自動化
- [ ] API仕様書（OpenAPI/Swagger等）の最新化
- [ ] パフォーマンス最適化・リファクタリング

## 3. インフラ・CI/CD
- [ ] 本番用デプロイ・ロールバック手順の整備（Cloud Run, Firebase Hosting等）
- [ ] CI/CDでテスト・カバレッジ・Lint自動化（PR時fail条件の明確化）
- [ ] 本番環境での動作確認・監視設定（Sentry, Prometheus, Grafana等）
- [ ] .env等の環境変数・シークレット管理の徹底
- [ ] インフラコスト最適化・監視項目追加

## 4. セキュリティ
- [ ] 依存パッケージの脆弱性チェック（yarn/npm/pip audit等）
- [ ] APIキー・シークレットの管理・漏洩防止（verify-api-keys.sh等）
- [ ] 定期的なセキュリティ監査・レポート作成
- [ ] 本番環境でのセキュリティ監査実施・アラート設定
- [ ] セキュリティダッシュボード・外部連携強化

## 5. ドキュメント・運用
- [ ] デプロイ/運用/トラブルシュート手順のdocs/配下記載
- [ ] テスト観点・運用ルール・開発フローの明文化
- [ ] コントリビュートガイド・セットアップ手順の整備
- [ ] 主要なAPI仕様・設計思想・運用ルールの最新化
- [ ] FAQ・ナレッジベース・運用Tipsの充実

---

## 参考: 追加推奨タスク
- [ ] パフォーマンス最適化（キャッシュ・レスポンス安定化・Cloud Run設定等）
- [ ] Lighthouse等によるフロントエンド監査・改善
- [ ] セキュリティインシデント対応手順・連絡先の明記

---

**最終更新:** 2025年7月14日
